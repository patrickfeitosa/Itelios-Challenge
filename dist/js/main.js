"use strict";var _createClass=function(){function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Carrossel=function(){function n(t){var i=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,n),this.element=t,this.options=Object.assign({},{slidesToScroll:1,slidesVisible:1,loop:!1,pagination:!1,navigation:!0},e);var s=[].slice.call(t.children);this.isMobile=!1,this.currentItem=0,this.moveCallback=[],this.root=this.createDivWithClass("carrossel"),this.container=this.createDivWithClass("carrossel-container"),this.root.setAttribute("tabindex","0"),this.root.appendChild(this.container),this.element.appendChild(this.root),this.itens=s.map(function(t){var e=i.createDivWithClass("carrossel-item");return e.appendChild(t),i.container.appendChild(e),e}),this.setStyle(),this.options.navigation&&this.createNavigation(),this.options.pagination&&this.createPagination(),this.createPagination(),this.moveCallback.forEach(function(t){return t(0)}),this.onWindowResize(),window.addEventListener("resize",this.onWindowResize.bind(this)),this.root.addEventListener("keyup",function(t){"ArrowRight"===t.key||"Right"===t.key?i.next():"ArrowLeft"!==t.key&&"Left"!==t.key||i.prev()})}return _createClass(n,[{key:"setStyle",value:function(){var e=this,i=this.itens.length/this.slidesVisible;this.container.style.width=100*i+"%",this.itens.forEach(function(t){return t.style.width=100/e.slidesVisible/i+"%"})}},{key:"createNavigation",value:function(){var e=this,i=this.createDivWithClass("carrossel-next"),s=this.createDivWithClass("carrossel-prev");this.root.appendChild(i),this.root.appendChild(s),i.addEventListener("click",this.next.bind(this)),s.addEventListener("click",this.prev.bind(this)),!0!==this.options.loop&&this.onMove(function(t){0===t?s.classList.add("carrossel-prev-hidden"):s.classList.remove("carrossel-prev-hidden"),void 0===e.itens[e.currentItem+e.slidesVisible]?i.classList.add("carrossel-next-hidden"):i.classList.remove("carrossel-next-hidden")})}},{key:"createPagination",value:function(){var i=this,s=this.createDivWithClass("grid-9");s.classList.add("offset-3"),s.classList.add("carrossel-pagination");var n=[];this.element.appendChild(s);for(var t=function(t){var e=i.createDivWithClass("carrossel-pagination-button");e.addEventListener("click",function(){return i.goToItem(t)}),s.appendChild(e),n.push(e)},e=0;e<this.itens.length;e+=this.slidesToScroll)t(e);this.onMove(function(t){var e=n[Math.floor(t/i.slidesToScroll)];e&&(n.forEach(function(t){return t.classList.remove("carrossel-pagination-button-active")}),e.classList.add("carrossel-pagination-button-active"))})}},{key:"next",value:function(){this.goToItem(this.currentItem+this.slidesToScroll)}},{key:"prev",value:function(){this.goToItem(this.currentItem-this.slidesToScroll)}},{key:"goToItem",value:function(e){if(e<0){if(!this.options.loop)return;e=this.itens.length-this.slidesVisible}else if(e>=this.itens.length||void 0===this.itens[this.currentItem+this.slidesVisible]&&e>this.currentItem){if(!this.options.loop)return;e=0}var t=-100*e/this.itens.length;this.container.style.transform="translate3d("+t+"%, 0, 0)",this.currentItem=e,this.moveCallback.forEach(function(t){return t(e)})}},{key:"onMove",value:function(t){this.moveCallback.push(t)}},{key:"onWindowResize",value:function(){var e=this,t=window.innerWidth<1199;t!==this.isMobile&&(this.isMobile=t,this.setStyle(),this.moveCallback.forEach(function(t){return t(e.currentItem)}))}},{key:"createDivWithClass",value:function(t){var e=document.createElement("div");return e.setAttribute("class",t),e}},{key:"slidesToScroll",get:function(){return this.isMobile?1:this.options.slidesToScroll}},{key:"slidesVisible",get:function(){return this.isMobile?1:this.options.slidesVisible}}]),n}(),onReady=function(){fetch("http://localhost:3000/json/products.json").then(function(t){return t.json()}).then(function(t){var e,s="//www.itelios.com.br/arquivos/imagens",n="",i=t[0].data.item,o=i.productInfo.paymentConditions.indexOf("é")+1,r=i.productInfo.paymentConditions.indexOf(",")+3;e='<img src="'+i.imageName.replace(s,"./img")+'" alt="'+i.name+'" class="product-img"><p class="info-product">'+i.name+'</p><p class="product-install">Por: <span class="product-price">'+i.price+'</span><br>ou <span class="product-price-install">'+i.productInfo.paymentConditions.substring(o,r)+"</span> sem juros</p>",document.querySelector("#currentProduct").innerHTML=e,t[0].data.recommendation.forEach(function(t){var e=t.productInfo.paymentConditions.indexOf("é")+1,i=t.productInfo.paymentConditions.indexOf(",")+2;n+='<div class="product-content no-gutter"><img src="'+t.imageName.replace(s,"./img")+'" alt="'+t.name+'" class="product-img"><p class="info-product">'+t.name+'</p><p class="product-install">Por: <span class="product-price">'+t.price+'</span><br>ou <span class="product-price-install">'+t.productInfo.paymentConditions.substring(e,i)+'</span> sem juros</p><a href="#" class="grid-12 button-cart no-gutter">adicionar ao carrinho <i class="material-icons md-icon-18">add_shopping_cart</i></a></div>'}),document.querySelector("#productRecomendation").innerHTML=n,new Carrossel(document.querySelector("#productRecomendation"),{slidesVisible:3,slidesToScroll:2})}).catch(function(t){console.error("Failed retrieving information",t)})};"loading"!==document.readyState&&onReady(),document.addEventListener("DOMContentLoaded",onReady);